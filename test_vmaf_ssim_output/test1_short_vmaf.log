[2m2025-12-15T17:04:01.315405Z[0m [32m INFO[0m [2mvidquality_hevc[0m[2m:[0m ğŸ¬ Auto Mode Conversion (HEVC/H.265)
[2m2025-12-15T17:04:01.315723Z[0m [32m INFO[0m [2mvidquality_hevc[0m[2m:[0m    Lossless sources â†’ HEVC Lossless MKV
[2m2025-12-15T17:04:01.315725Z[0m [32m INFO[0m [2mvidquality_hevc[0m[2m:[0m    Lossy sources â†’ HEVC MP4 (CRF auto-matched to input quality)
[2m2025-12-15T17:04:01.315726Z[0m [32m INFO[0m [2mvidquality_hevc[0m[2m:[0m    ğŸ“Š Size exploration: ENABLED
[2m2025-12-15T17:04:01.315728Z[0m [32m INFO[0m [2mvidquality_hevc[0m[2m:[0m    ğŸ¯ Match Quality: ENABLED
[2m2025-12-15T17:04:01.315731Z[0m [32m INFO[0m [2mvidquality_hevc[0m[2m:[0m    ğŸ Apple Compatibility: ENABLED (AV1/VP9 â†’ HEVC)
[2m2025-12-15T17:04:01.315732Z[0m [32m INFO[0m [2mvidquality_hevc[0m[2m:[0m    ğŸ“Š VMAF Verification: ENABLED (threshold: 85.0)
[2m2025-12-15T17:04:01.315735Z[0m [32m INFO[0m [2mvidquality_hevc[0m[2m:[0m 
[2m2025-12-15T17:04:01.392016Z[0m [32m INFO[0m [2mvidquality_hevc::conversion_api[0m[2m:[0m ğŸ¬ Auto Mode: modern_format_boost/scripts/../test_vmaf_ssim_output/short_10s.mp4 â†’ HEVC MP4 (High Quality)
[2m2025-12-15T17:04:01.392024Z[0m [32m INFO[0m [2mvidquality_hevc::conversion_api[0m[2m:[0m    Reason: Source is H.264 (Standard Quality) - compressing with HEVC CRF 20
   ğŸ“Š Quality Analysis v3.0 (HEVC):
      Mode: Quality | Bias: Balanced
      Confidence: 83%

      ğŸ“¹ Source:
         Codec: H.264 (H264, efficiency: 1.00)
         Resolution: 640x480 (factor: 0.97)
         Bit depth: 8-bit (factor: 1.00)

      ğŸ”´ High Priority Factors:
         Raw BPP: 0.0231
         Video bitrate: 212 kbps (audio excluded)
         GOP factor: 1.00
         Chroma factor: 1.15
            â””â”€ Pixel format: yuv444p
         HDR factor: 1.00

      ğŸŸ¡ Medium Priority Factors:
         Aspect factor: 1.00
         Complexity factor: 0.95
         Grain factor: 1.00
         Alpha factor: 1.00

      ğŸ“ˆ Result:
         Effective BPP: 0.0349
         FPS: 30.00
         Duration: 10.0s
         âœ… Calculated CRF: 35
[2m2025-12-15T17:04:01.392694Z[0m [32m INFO[0m [2mvidquality_hevc::conversion_api[0m[2m:[0m    ğŸ”¬ ç²¾ç¡®è´¨é‡åŒ¹é… + å¿…é¡»å‹ç¼©: CRF 35.0
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ ğŸ“Š Precheck Report v5.75
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ ğŸ¬ Codec: h264
â”‚ ğŸ“ Resolution: 640x480
â”‚ ğŸï¸  Duration: 10.0s (3000 frames)
â”‚ ğŸ¥ FPS: 300.00 ğŸŸ¡ æ‰©å±•èŒƒå›´ (240-2000 fps) - é«˜é€Ÿæ‘„å½±/ç‰¹æ®Šè½¯ä»¶
â”‚ ğŸ“ File Size: 0.26 MB
â”‚ ğŸ“¡ Bitrate: 212 kbps
â”‚ ğŸ“ˆ BPP: 0.0023 bits/pixel
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ ğŸ–¼ï¸  Pixel Format: yuv444p
â”‚ ğŸ”¢ Bit Depth: 8-bit
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ âš ï¸  Compression Potential: Low
â”‚    â†’ File already optimized
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ ğŸ”µ OPTIONAL: Marginal benefit expected
â”‚    â†’ æ–‡ä»¶å·²é«˜åº¦å‹ç¼©ï¼ˆbitrate: 212 kbps < 1852 kbps, BPP: 0.0023 < 0.0500ï¼‰ï¼Œè½¬æ¢æ”¶ç›Šæœ‰é™ï¼Œä½†ä»å¯å°è¯•ç°ä»£ç¼–è§£ç å™¨è·å¾—è¾¹é™…æ”¹å–„
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ” Detecting GPU acceleration...
   âœ… GPU: Apple VideoToolbox detected
      â€¢ HEVC: hevc_videotoolbox
      â€¢ H.264: h264_videotoolbox
ğŸ”¬ Smart GPU+CPU Explore v5.1 (Hevc)
   ğŸ“ Input: 267620 bytes (0.26 MB)

ğŸ“‹ STRATEGY: GPU Coarse â†’ CPU Fine
â€¢ Phase 1: GPU finds rough boundary (FAST)
â€¢ Phase 2: CPU finds precise CRF (ACCURATE)


ğŸ“ Phase 1: GPU Coarse Search
âš ï¸  GPU didn't find compression boundary
â€¢ File may already be highly compressed
â€¢ Using full CRF range for CPU search
ğŸ“ Phase 2: CPU Fine-Tune (0.5â†’0.1 step)
ğŸ“Š Starting from GPU boundary: CRF 35.0
[96mğŸ”¬ CPU Fine-Tune v5.86[0m (Hevc) - [92mMaximum SSIM Search[0m
[36mğŸ“[0m Input: 261.3 KB (267620 bytes) | Duration: 10.0s
[33mğŸ¯[0m Goal: [1mmin(CRF)[0m where [92moutput < input[0m (Highest SSIM + Must Compress)
[36mğŸ“Š[0m Using 0.25 step (fast coarse search) + 0.1 fine-tune
[2mğŸ“[0m Step: [96m0.25[0m | GPU boundary: [93mCRF 35.0[0m
[2mğŸ¯[0m Goal: min(CRF) where output < input
[2mğŸ“ˆ[0m Strategy: [92mMarginal benefit analysis[0m (not hard stop)

[96mğŸ“ Phase 1:[0m [1mVerify GPU boundary[0m
      â³ CRF 35.0 | 99.3% | 9.9s/10.0s | 0fps | 21.1x                                                                                 [92mâœ…[0m GPU boundary [96mCRF 35.0[0m: [92m-82.9%[0m SSIM [93m0.9908[0m (compresses)

[96mğŸ“ Phase 2:[0m [1mMaximum SSIM Search[0m (v5.86)
   [2m(Step 1.0â†’0.5â†’0.25â†’0.1, stop at SSIM >= 0.999)[0m
      â³ CRF 34.0 | 95.0% | 9.5s/10.0s | 0fps | 18.9x         â³ CRF 34.0 | 99.3% | 9.9s/10.0s | 0fps | 19.3x                                                                                    [92mâœ“[0m [36mCRF 34.0[0m: [92m-82.3%[0m SSIM [93m0.9918[0m ([2mÎ”+0.0010[0m, [2mstep 1.00[0m) [92mâœ…[0m
      â³ CRF 33.0 | 99.3% | 9.9s/10.0s | 0fps | 21.8x                                                                                    [92mâœ“[0m [36mCRF 33.0[0m: [92m-81.5%[0m SSIM [93m0.9929[0m ([2mÎ”+0.0011[0m, [2mstep 1.00[0m) [92mâœ…[0m
      â³ CRF 32.0 | 99.3% | 9.9s/10.0s | 0fps | 21.5x                                                                                    [92mâœ“[0m [36mCRF 32.0[0m: [92m-81.5%[0m SSIM [93m0.9941[0m ([2mÎ”+0.0012[0m, [2mstep 1.00[0m) [92mâœ…[0m
      â³ CRF 31.0 | 99.3% | 9.9s/10.0s | 0fps | 21.5x                                                                                    [92mâœ“[0m [36mCRF 31.0[0m: [92m-81.2%[0m SSIM [93m0.9950[0m ([2mÎ”+0.0008[0m, [2mstep 1.00[0m) [92mâœ…[0m
      â³ CRF 30.0 | 97.7% | 9.8s/10.0s | 0fps | 19.4x         â³ CRF 30.0 | 99.3% | 9.9s/10.0s | 0fps | 19.6x                                                                                    [92mâœ“[0m [36mCRF 30.0[0m: [92m-80.5%[0m SSIM [93m0.9958[0m ([2mÎ”+0.0008[0m, [2mstep 1.00[0m) [92mâœ…[0m
      â³ CRF 29.0 | 99.3% | 9.9s/10.0s | 0fps | 21.3x                                                                                    [92mâœ“[0m [36mCRF 29.0[0m: [92m-79.9%[0m SSIM [93m0.9964[0m ([2mÎ”+0.0007[0m, [2mstep 1.00[0m) [92mâœ…[0m
      â³ CRF 28.0 | 96.0% | 9.6s/10.0s | 0fps | 19x         â³ CRF 28.0 | 99.3% | 9.9s/10.0s | 0fps | 19.2x                                                                                    [92mâœ“[0m [36mCRF 28.0[0m: [92m-78.8%[0m SSIM [93m0.9970[0m ([2mÎ”+0.0005[0m, [2mstep 1.00[0m) [92mâœ…[0m
      â³ CRF 27.0 | 98.7% | 9.9s/10.0s | 0fps | 19.7x         â³ CRF 27.0 | 99.3% | 9.9s/10.0s | 0fps | 19.7x                                                                                    [92mâœ“[0m [36mCRF 27.0[0m: [92m-78.1%[0m SSIM [93m0.9972[0m ([2mÎ”+0.0003[0m, [2mstep 1.00[0m) [92mâœ…[0m
      â³ CRF 26.0 | 99.3% | 9.9s/10.0s | 0fps | 20.9x                                                                                    [92mâœ“[0m [36mCRF 26.0[0m: [92m-77.7%[0m SSIM [93m0.9975[0m ([2mÎ”+0.0003[0m, [2mstep 1.00[0m) [92mâœ…[0m
      â³ CRF 25.0 | 98.0% | 9.8s/10.0s | 0fps | 19.5x         â³ CRF 25.0 | 99.3% | 9.9s/10.0s | 0fps | 19.2x                                                                                    [92mâœ“[0m [36mCRF 25.0[0m: [92m-76.1%[0m SSIM [93m0.9978[0m ([2mÎ”+0.0003[0m, [2mstep 1.00[0m) [92mâœ…[0m
      â³ CRF 24.0 | 88.3% | 8.8s/10.0s | 0fps | 17.6x         â³ CRF 24.0 | 99.3% | 9.9s/10.0s | 0fps | 18.1x                                                                                    [92mâœ“[0m [36mCRF 24.0[0m: [92m-75.2%[0m SSIM [93m0.9981[0m ([2mÎ”+0.0003[0m, [2mstep 1.00[0m) [92mâœ…[0m
      â³ CRF 23.0 | 99.3% | 9.9s/10.0s | 0fps | 20.5x                                                                                    [92mâœ“[0m [36mCRF 23.0[0m: [92m-74.1%[0m SSIM [93m0.9983[0m ([2mÎ”+0.0002[0m, [2mstep 1.00[0m) [92mâœ…[0m
      â³ CRF 22.0 | 99.3% | 9.9s/10.0s | 0fps | 20x                                                                                    [92mâœ“[0m [36mCRF 22.0[0m: [92m-72.3%[0m SSIM [93m0.9985[0m ([2mÎ”+0.0002[0m, [2mstep 1.00[0m) [92mâœ…[0m
      â³ CRF 21.0 | 99.3% | 9.9s/10.0s | 0fps | 19.9x                                                                                    [92mâœ“[0m [36mCRF 21.0[0m: [92m-70.3%[0m SSIM [93m0.9987[0m ([2mÎ”+0.0002[0m, [2mstep 1.00[0m) [92mâœ…[0m
      â³ CRF 20.0 | 92.0% | 9.2s/10.0s | 0fps | 18.2x         â³ CRF 20.0 | 99.3% | 9.9s/10.0s | 0fps | 18.7x                                                                                    [92mâœ“[0m [36mCRF 20.0[0m: [92m-68.3%[0m SSIM [93m0.9988[0m ([2mÎ”+0.0001[0m, [2mstep 1.00[0m) [92mâœ…[0m
      â³ CRF 19.0 | 90.7% | 9.1s/10.0s | 0fps | 18x         â³ CRF 19.0 | 99.3% | 9.9s/10.0s | 0fps | 18.4x                                                                                    [92mâœ“[0m [36mCRF 19.0[0m: [92m-65.5%[0m SSIM [93m0.9990[0m ([2mÎ”+0.0002[0m, [2mstep 1.00[0m) [92mâœ…[0m
      â³ CRF 18.0 | 93.0% | 9.3s/10.0s | 0fps | 18.4x         â³ CRF 18.0 | 99.3% | 9.9s/10.0s | 0fps | 18.8x                                                                                    [92mâœ“[0m [36mCRF 18.0[0m: [92m-62.5%[0m SSIM [93m0.9991[0m ([2mÎ”+0.0001[0m, [2mstep 1.00[0m) [92mâœ…[0m
      â³ CRF 17.0 | 90.3% | 9.0s/10.0s | 0fps | 17.9x         â³ CRF 17.0 | 99.3% | 9.9s/10.0s | 0fps | 18.2x                                                                                    [92mâœ“[0m [36mCRF 17.0[0m: [92m-58.5%[0m SSIM [93m0.9992[0m ([2mÎ”+0.0001[0m, [2mstep 1.00[0m) [92mâœ…[0m
      â³ CRF 16.0 | 84.3% | 8.4s/10.0s | 0fps | 16.7x         â³ CRF 16.0 | 99.3% | 9.9s/10.0s | 0fps | 17.2x                                                                                    [92mâœ“[0m [36mCRF 16.0[0m: [92m-54.5%[0m SSIM [93m0.9993[0m ([2mÎ”+0.0001[0m, [2mstep 1.00[0m) [92mâœ…[0m
      â³ CRF 15.0 | 83.3% | 8.3s/10.0s | 0fps | 16.5x         â³ CRF 15.0 | 99.3% | 9.9s/10.0s | 0fps | 17x                                                                                    [92mâœ“[0m [36mCRF 15.0[0m: [92m-50.0%[0m SSIM [93m0.9994[0m ([2mÎ”+0.0001[0m, [2mstep 1.00[0m) [92mâœ…[0m
   [92mğŸ¯[0m [93mSSIM plateau reached[0m (0.9994 >= 0.999, gain 0.00008 < 0.0001) â†’ [92mSTOP[0m
âœ… Best CRF 15.0 already encoded (full video)
ğŸ“ Final: CRF 15.0 | Size: 133753 bytes (0.13 MB)
   ğŸ“Š SSIM calculated using standard method: 0.999422
ğŸ“Š SSIM: 0.999422 âœ… Excellent

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… RESULT: CRF 15.0 â€¢ Size -50.0% â€¢ Iterations: 21
   ğŸ¯ Guarantee: output < input = âœ… YES
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ ğŸ“Š Confidence Report
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ ğŸ“ˆ Overall Confidence: 98% ğŸŸ¢ Excellent
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ ğŸ“¹ Sampling Coverage: 100% (weight 30%)
â”‚ ğŸ¯ Prediction Accuracy: 95% (weight 30%)
â”‚ ğŸ’¾ Safety Margin: 100% (weight 20%)
â”‚ ğŸ“Š SSIM Reliability: 100% (weight 20%)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“Š Phase 3: Quality Verification
   ğŸ“¹ Video duration: 10.0s (0.2 min)
   âœ… Short video detected (â‰¤5min)
   ğŸ¯ Enabling VMAF precise verification...
   ğŸ“Š Calculating VMAF (precise video quality metric)...
   ğŸ“Š VMAF score: 1.00
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ“Š Final Quality Scores:
      SSIM: 0.999422 (exploration metric)
      VMAF: 1.00 (verification metric)
      Grade: ğŸ”´ Fair (noticeable artifacts)
      SSIM-VMAF: âš ï¸  Divergence detected
   âš ï¸  VMAF lower than expected!
      Suggestion: Try lowering CRF by 1-2 for better quality

   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ“Š CRF Mapping: CPU 15.0 â‰ˆ GPU 10.0
[2m2025-12-15T17:04:18.871673Z[0m [32m INFO[0m [2mvidquality_hevc::conversion_api[0m[2m:[0m    âœ… Complete: 50.0% of original
[2m2025-12-15T17:04:18.871695Z[0m [32m INFO[0m [2mvidquality_hevc[0m[2m:[0m 
[2m2025-12-15T17:04:18.871697Z[0m [32m INFO[0m [2mvidquality_hevc[0m[2m:[0m ğŸ“Š Conversion Summary:
[2m2025-12-15T17:04:18.871699Z[0m [32m INFO[0m [2mvidquality_hevc[0m[2m:[0m    Input:  modern_format_boost/scripts/../test_vmaf_ssim_output/short_10s.mp4 (267620 bytes)
[2m2025-12-15T17:04:18.871700Z[0m [32m INFO[0m [2mvidquality_hevc[0m[2m:[0m    Output: modern_format_boost/scripts/../test_vmaf_ssim_output/short_output.mp4/short_10s_hevc.mp4 (133753 bytes)
[2m2025-12-15T17:04:18.871701Z[0m [32m INFO[0m [2mvidquality_hevc[0m[2m:[0m    Ratio:  50.0%
[2m2025-12-15T17:04:18.871702Z[0m [32m INFO[0m [2mvidquality_hevc[0m[2m:[0m    ğŸ” Explored 21 CRF values, final: CRF 15.0
